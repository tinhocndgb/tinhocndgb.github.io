<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Đề kiểm tra GHK I - Tin học 12 - Đề 2 | Học Tin Học NDGB</title>
  <link rel="icon" href="/file/logo.png" type="image/png" />
  <link rel="stylesheet" href="/test/bai.css" />
</head>
<body>
  <div class="window">
    <!-- ============ Sidebar ============ -->
    <aside class="sidebar">
      <div style="display:flex;flex-direction:column;align-items:center;gap:8px;width:100%">
        <div class="logo" aria-hidden>
          <style>
            .logo { border:0 !important; box-shadow:none !important; width:160px; height:160px; }
            @media (max-width:880px){ .logo { width:100px; height:100px; } }
          </style>
          <div style="position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center">
            <span style="position:absolute;width:100%;height:100%;border-radius:50%;background:#fff"></span>
            <img src="/file/logo.png" alt="Logo NDGB"
              style="width:100%;height:100%;object-fit:contain;position:relative;display:block;border-radius:50%;border:0" />
          </div>
        </div>

        <div style="text-align:center">
          <div class="brand">HỌC TIN HỌC - NDGB</div>
          <div class="slogan">Nhật Đăng - Gia Bảo</div>
        </div>

        <!-- ============ Navigation ============ -->
        <nav aria-label="chức năng">
          <div class="nav-item" data-id="home">
            <div class="ico"><img src="/file/home.svg" alt="Home Icon" width="25" height="25" /></div>
            <div class="label">Trang chủ</div>
          </div>

          <div class="nav-item" data-id="study">
            <div class="ico"><img src="/file/lesson.svg" alt="Lesson Icon" width="25" height="25" /></div>
            <div class="label">Học bài mới</div>
          </div>

          <div class="nav-item" data-id="exercise">
            <div class="ico"><img src="/file/exercise.png" alt="Exercise Icon" width="25" height="25" /></div>
            <div class="label">Làm bài tập</div>
          </div>

          <div class="nav-item active" data-id="test">
            <div class="ico"><img src="/file/test.svg" alt="Test Icon" width="25" height="25" /></div>
            <div class="label">Kiểm tra</div>
          </div>
        </nav>
      </div>
    </aside>

    <!-- ============ Main Content ============ -->
    <main class="main">
      <div class="lesson-page fade-in">
        <div class="lesson-header">
          <div class="topic">Đề kiểm tra GHK I - Tin học 12 - Đề 2</div>
          <h1></h1>
        </div>

        <div class="lesson-footer">
          <!-- KHUNG BÀI KIỂM TRA -->
          <div id="quiz-container" class="quiz-container" aria-live="polite">
            <div id="quiz-questions">

              <div class="quiz-q" data-answer="B">
                <h4 class="quiz-title">Chức năng nào KHÔNG phải của hệ QTCSDL?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q1" value="A"> Cung cấp môi trường tạo lập CSDL </label>
                  <label class="quiz-option"><input type="radio" name="q1" value="B"> Thiết kế phần cứng máy tính </label>
                  <label class="quiz-option"><input type="radio" name="q1" value="C"> Cung cấp công cụ quản trị CSDL </label>
                  <label class="quiz-option"><input type="radio" name="q1" value="D"> Cung cấp môi trường cập nhật và khai thác dữ liệu </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> Hệ QTCSDL là phần mềm, không liên quan đến thiết kế phần cứng.
                </div>
              </div>

              <div class="quiz-q" data-answer="C">
                <h4 class="quiz-title">Thực thể (Entity) trong mô hình thực thể-kết hợp (ER) là gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q2" value="A"> Mối quan hệ giữa các bảng </label>
                  <label class="quiz-option"><input type="radio" name="q2" value="B"> Thuộc tính của đối tượng </label>
                  <label class="quiz-option"><input type="radio" name="q2" value="C"> Đối tượng cần quản lý trong thế giới thực </label>
                  <label class="quiz-option"><input type="radio" name="q2" value="D"> Khóa của bảng </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> Thực thể là đối tượng tồn tại độc lập cần quản lý, như SinhVien, Sach, HoaDon.
                </div>
              </div>

              <div class="quiz-q" data-answer="A">
                <h4 class="quiz-title">Kiểu dữ liệu DATE trong SQL dùng để lưu trữ gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q3" value="A"> Ngày tháng năm </label>
                  <label class="quiz-option"><input type="radio" name="q3" value="B"> Số nguyên </label>
                  <label class="quiz-option"><input type="radio" name="q3" value="C"> Chuỗi ký tự </label>
                  <label class="quiz-option"><input type="radio" name="q3" value="D"> Số thực </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> DATE lưu ngày (YYYY-MM-DD), DATETIME lưu cả ngày và giờ.
                </div>
              </div>

              <div class="quiz-q" data-answer="D">
                <h4 class="quiz-title">Câu lệnh SQL nào dùng để thêm bản ghi mới vào bảng?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q4" value="A"> UPDATE </label>
                  <label class="quiz-option"><input type="radio" name="q4" value="B"> ALTER </label>
                  <label class="quiz-option"><input type="radio" name="q4" value="C"> CREATE </label>
                  <label class="quiz-option"><input type="radio" name="q4" value="D"> INSERT </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> INSERT thêm bản ghi mới, UPDATE sửa bản ghi có sẵn, CREATE tạo bảng.
                </div>
              </div>

              <div class="quiz-q" data-answer="B">
                <h4 class="quiz-title">Mệnh đề ORDER BY ... DESC trong SQL thực hiện điều gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q5" value="A"> Sắp xếp tăng dần </label>
                  <label class="quiz-option"><input type="radio" name="q5" value="B"> Sắp xếp giảm dần </label>
                  <label class="quiz-option"><input type="radio" name="q5" value="C"> Nhóm dữ liệu </label>
                  <label class="quiz-option"><input type="radio" name="q5" value="D"> Lọc dữ liệu </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> ASC (mặc định) là tăng dần, DESC là giảm dần.
                </div>
              </div>

              <div class="quiz-q" data-answer="C">
                <h4 class="quiz-title">Hàm AVG() trong SQL dùng để làm gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q6" value="A"> Đếm số bản ghi </label>
                  <label class="quiz-option"><input type="radio" name="q6" value="B"> Tính tổng giá trị </label>
                  <label class="quiz-option"><input type="radio" name="q6" value="C"> Tính giá trị trung bình </label>
                  <label class="quiz-option"><input type="radio" name="q6" value="D"> Tìm giá trị lớn nhất </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> AVG() tính trung bình, SUM() tính tổng, COUNT() đếm, MAX() tìm lớn nhất.
                </div>
              </div>

              <div class="quiz-q" data-answer="A">
                <h4 class="quiz-title">Ràng buộc NOT NULL trong SQL có tác dụng gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q7" value="A"> Không cho phép giá trị NULL </label>
                  <label class="quiz-option"><input type="radio" name="q7" value="B"> Đảm bảo giá trị duy nhất </label>
                  <label class="quiz-option"><input type="radio" name="q7" value="C"> Tham chiếu đến bảng khác </label>
                  <label class="quiz-option"><input type="radio" name="q7" value="D"> Kiểm tra điều kiện </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> NOT NULL buộc cột phải có giá trị, UNIQUE đảm bảo duy nhất.
                </div>
              </div>

              <div class="quiz-q" data-answer="D">
                <h4 class="quiz-title">Câu lệnh nào thay đổi cấu trúc bảng (thêm cột)?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q8" value="A"> UPDATE </label>
                  <label class="quiz-option"><input type="radio" name="q8" value="B"> INSERT </label>
                  <label class="quiz-option"><input type="radio" name="q8" value="C"> CREATE </label>
                  <label class="quiz-option"><input type="radio" name="q8" value="D"> ALTER </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> ALTER TABLE dùng để thêm, sửa, xóa cột trong bảng.
                </div>
              </div>

              <div class="quiz-q" data-answer="B">
                <h4 class="quiz-title">Trong mô hình ER, thuộc tính khóa (key attribute) là gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q9" value="A"> Thuộc tính có thể NULL </label>
                  <label class="quiz-option"><input type="radio" name="q9" value="B"> Thuộc tính xác định duy nhất thực thể </label>
                  <label class="quiz-option"><input type="radio" name="q9" value="C"> Thuộc tính mô tả tính chất </label>
                  <label class="quiz-option"><input type="radio" name="q9" value="D"> Thuộc tính tham chiếu </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> Thuộc tính khóa (gạch chân trong sơ đồ ER) xác định duy nhất thực thể.
                </div>
              </div>

              <div class="quiz-q" data-answer="C">
                <h4 class="quiz-title">Câu lệnh DROP TABLE có tác dụng gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q10" value="A"> Xóa dữ liệu trong bảng </label>
                  <label class="quiz-option"><input type="radio" name="q10" value="B"> Sửa cấu trúc bảng </label>
                  <label class="quiz-option"><input type="radio" name="q10" value="C"> Xóa toàn bộ bảng </label>
                  <label class="quiz-option"><input type="radio" name="q10" value="D"> Đổi tên bảng </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> DROP TABLE xóa bảng và cấu trúc, DELETE xóa dữ liệu, TRUNCATE xóa nhanh dữ liệu.
                </div>
              </div>

              <div class="quiz-q" data-answer="A">
                <h4 class="quiz-title">Chuẩn hóa CSDL đến dạng chuẩn 3NF (Third Normal Form) nhằm mục đích gì?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q11" value="A"> Loại bỏ phụ thuộc bắc cầu </label>
                  <label class="quiz-option"><input type="radio" name="q11" value="B"> Loại bỏ phụ thuộc hàm </label>
                  <label class="quiz-option"><input type="radio" name="q11" value="C"> Loại bỏ dư thừa hoàn toàn </label>
                  <label class="quiz-option"><input type="radio" name="q11" value="D"> Tăng tốc truy vấn </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> 1NF: loại bỏ nhóm lặp, 2NF: loại bỏ phụ thuộc hàm bộ phận, 3NF: loại bỏ phụ thuộc bắc cầu.
                </div>
              </div>

              <div class="quiz-q" data-answer="D">
                <h4 class="quiz-title">Mệnh đề HAVING trong SQL khác WHERE ở điểm nào?</h4>
                <div class="quiz-options">
                  <label class="quiz-option"><input type="radio" name="q12" value="A"> HAVING dùng trước GROUP BY, WHERE dùng sau </label>
                  <label class="quiz-option"><input type="radio" name="q12" value="B"> HAVING chỉ dùng với số, WHERE dùng với chuỗi </label>
                  <label class="quiz-option"><input type="radio" name="q12" value="C"> HAVING nhanh hơn WHERE </label>
                  <label class="quiz-option"><input type="radio" name="q12" value="D"> HAVING lọc kết quả sau khi nhóm, WHERE lọc trước khi nhóm </label>
                </div>
                <div class="explanation">
                  <hl>Giải thích:</hl> WHERE lọc bản ghi trước khi nhóm, HAVING lọc kết quả sau khi nhóm (dùng với GROUP BY).
                </div>
              </div>

              <!-- Đúng / Sai-->
              <div class="true-false-q" data-answer="T,F,T,F">
                <h4>Đánh dấu Đúng (Đ) hoặc Sai (S) cho các câu sau:</h4>
                <div class="true-false-list">

                  <div class="true-false-item" data-correct-tf="T">
                    <span class="true-false-item-text">Khóa ngoại (foreign key) đảm bảo tính toàn vẹn tham chiếu (referential integrity).</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#00a956"> Đúng</b>, khóa ngoại đảm bảo giá trị phải tồn tại trong bảng được tham chiếu.
                    </div>
                  </div>

                  <div class="true-false-item" data-correct-tf="F">
                    <span class="true-false-item-text">Trong SQL, SELECT * FROM Table luôn trả về tất cả các bản ghi kể cả những bản ghi trùng lặp.</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#e04b4b"> Sai</b>, SELECT * trả về tất cả bản ghi, nhưng nếu có trùng thì vẫn hiển thị trùng.
                    </div>
                  </div>

                  <div class="true-false-item" data-correct-tf="T">
                    <span class="true-false-item-text">Mối quan hệ một-nhiều (one-to-many) là phổ biến nhất trong CSDL quan hệ.</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#00a956"> Đúng</b>, ví dụ: một lớp có nhiều học sinh, một khách hàng có nhiều hóa đơn.
                    </div>
                  </div>

                  <div class="true-false-item" data-correct-tf="F">
                    <span class="true-false-item-text">Câu lệnh UPDATE có thể thay đổi cấu trúc bảng (thêm/xóa cột).</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#e04b4b"> Sai</b>, UPDATE chỉ thay đổi dữ liệu, ALTER mới thay đổi cấu trúc.
                    </div>
                  </div>

                </div>
              </div>

              <div class="true-false-q" data-answer="F,T,T,F">
                <h4>Đánh dấu Đúng (Đ) hoặc Sai (S) cho các câu sau:</h4>
                <div class="true-false-list">

                  <div class="true-false-item" data-correct-tf="F">
                    <span class="true-false-item-text">Tất cả các hệ QTCSDL đều sử dụng ngôn ngữ SQL giống hệt nhau.</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#e04b4b"> Sai</b>, mỗi hệ QTCSDL có phương ngữ SQL riêng (MySQL, PostgreSQL, SQL Server...).
                    </div>
                  </div>

                  <div class="true-false-item" data-correct-tf="T">
                    <span class="true-false-item-text">Index (chỉ mục) giúp tăng tốc độ truy vấn nhưng có thể làm chậm thao tác thêm/xóa/sửa.</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#00a956"> Đúng</b>, index cần được cập nhật khi dữ liệu thay đổi.
                    </div>
                  </div>

                  <div class="true-false-item" data-correct-tf="T">
                    <span class="true-false-item-text">Transaction (giao dịch) đảm bảo tính nguyên tử (atomicity) - hoặc thực hiện toàn bộ hoặc không thực hiện gì.</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#00a956"> Đúng</b>, transaction có ACID properties: Atomicity, Consistency, Isolation, Durability.
                    </div>
                  </div>

                  <div class="true-false-item" data-correct-tf="F">
                    <span class="true-false-item-text">Khóa chính (primary key) có thể bao gồm nhiều cột nhưng chỉ được phép có một trong một bảng.</span>
                    <div class="tf-controls">
                      <button data-value="T">Đúng</button>
                      <button data-value="F">Sai</button>
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl><b style="color:#e04b4b"> Sai</b>, câu này đúng! Khóa chính có thể là composite key (nhiều cột) và chỉ có một khóa chính.
                    </div>
                  </div>

                  <div class="short-answer-q" data-answer="UPDATE" data-point="0.5">
                    <h4 class="quiz-title">Câu lệnh SQL nào dùng để sửa dữ liệu trong bảng?</h4>
                    <div class="short-answer-controls">
                      <input type="text" placeholder="Nhập đáp án" />
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl> <b style="color:#00a956">UPDATE</b> - Ví dụ: UPDATE SinhVien SET Diem = 8 WHERE MaSV = 'SV001'
                    </div>
                  </div>

                  <div class="short-answer-q" data-answer="VARCHAR" data-point="0.5">
                    <h4 class="quiz-title">Kiểu dữ liệu nào trong SQL dùng để lưu chuỗi ký tự có độ dài thay đổi?</h4>
                    <div class="short-answer-controls">
                      <input type="text" placeholder="Nhập đáp án" />
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl> <b style="color:#00a956">VARCHAR(n)</b> - n là độ dài tối đa. CHAR(n) cố định độ dài.
                    </div>
                  </div>

                  <div class="short-answer-q" data-answer="SUM" data-point="0.5">
                    <h4 class="quiz-title">Hàm nào tính tổng giá trị của một cột số?</h4>
                    <div class="short-answer-controls">
                      <input type="text" placeholder="Nhập đáp án" />
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl> <b style="color:#00a956">SUM(column)</b> - Ví dụ: SELECT SUM(TongTien) FROM HoaDon
                    </div>
                  </div>

                  <div class="short-answer-q" data-answer="DELETE" data-point="0.5">
                    <h4 class="quiz-title">Câu lệnh nào xóa bản ghi có MaSV = 'SV005' từ bảng SinhVien?</h4>
                    <div class="short-answer-controls">
                      <input type="text" placeholder="Nhập đáp án" />
                    </div>
                    <div class="explanation">
                      <hl>Giải thích:</hl> <b style="color:#00a956">DELETE FROM SinhVien WHERE MaSV = 'SV005'</b>
                    </div>
                  </div>

                  <div class="quiz-q essay-q">
                    <h4 class="quiz-title">
                      Cho CSDL BANHANG với các bảng:<br>
                      KHACHHANG(MaKH, HoTen, DiaChi, DienThoai)<br>
                      SANPHAM(MaSP, TenSP, DonGia, SoLuongTon)<br>
                      HOADON(MaHD, MaKH, NgayHD, TongTien)<br>
                      CHITIET_HD(MaHD, MaSP, SoLuong, ThanhTien)<br>
                      Viết các câu lệnh SQL để:<br>
                      a) Tìm khách hàng ở Hà Nội<br>
                      b) Tính tổng doanh thu<br>
                      c) Tìm sản phẩm bán chạy nhất (số lượng bán nhiều nhất)
                    </h4>
                    <div class="short-answer-controls">
                      <textarea placeholder="Nhập câu trả lời của bạn ở đây..."></textarea>
                    </div>
                    <div class="explanation" style="display:none;">
                      <hl>Đáp án Tham khảo:</hl><br>
                      a) Tìm khách hàng ở Hà Nội:<br>
                      ```sql<br>
                      SELECT * FROM KHACHHANG<br>
                      WHERE DiaChi LIKE '%Hà Nội%';<br>
                      -- Hoặc: WHERE DiaChi LIKE 'Hà Nội%'<br>
                      ```<br><br>
                      b) Tính tổng doanh thu:<br>
                      ```sql<br>
                      SELECT SUM(TongTien) AS TongDoanhThu<br>
                      FROM HOADON;<br>
                      -- Hoặc từ chi tiết:<br>
                      SELECT SUM(ThanhTien) AS TongDoanhThu<br>
                      FROM CHITIET_HD;<br>
                      ```<br><br>
                      c) Tìm sản phẩm bán chạy nhất:<br>
                      ```sql<br>
                      -- Cách 1:<br>
                      SELECT SP.MaSP, SP.TenSP, SUM(CT.SoLuong) AS TongSoLuongBan<br>
                      FROM SANPHAM SP<br>
                      INNER JOIN CHITIET_HD CT ON SP.MaSP = CT.MaSP<br>
                      GROUP BY SP.MaSP, SP.TenSP<br>
                      ORDER BY TongSoLuongBan DESC<br>
                      LIMIT 1;<br>
                      <br>
                      -- Cách 2 với HAVING:<br>
                      SELECT SP.MaSP, SP.TenSP, SUM(CT.SoLuong) AS TongSoLuongBan<br>
                      FROM SANPHAM SP<br>
                      INNER JOIN CHITIET_HD CT ON SP.MaSP = CT.MaSP<br>
                      GROUP BY SP.MaSP, SP.TenSP<br>
                      HAVING SUM(CT.SoLuong) = (<br>
                      &nbsp;&nbsp;SELECT MAX(TongSL)<br>
                      &nbsp;&nbsp;FROM (<br>
                      &nbsp;&nbsp;&nbsp;&nbsp;SELECT SUM(SoLuong) AS TongSL<br>
                      &nbsp;&nbsp;&nbsp;&nbsp;FROM CHITIET_HD<br>
                      &nbsp;&nbsp;&nbsp;&nbsp;GROUP BY MaSP<br>
                      &nbsp;&nbsp;) AS temp<br>
                      );<br>
                      ```
                    </div>
                  </div>

                  <div class="quiz-q essay-q">
                    <h4 class="quiz-title">
                      Trình bày các dạng chuẩn hóa CSDL: 1NF, 2NF, 3NF. Cho ví dụ minh họa việc chuyển một bảng chưa chuẩn hóa thành 3NF.
                    </h4>
                    <div class="short-answer-controls">
                      <textarea placeholder="Nhập câu trả lời của bạn ở đây..."></textarea>
                    </div>
                    <div class="explanation" style="display:none;">
                      <hl>Đáp án Tham khảo:</hl><br>
                      - <b>1NF (First Normal Form - Dạng chuẩn 1):</b><br>
                      &nbsp;&nbsp;+ Mỗi ô chỉ chứa một giá trị đơn (atomic)<br>
                      &nbsp;&nbsp;+ Không có nhóm lặp (repeating groups)<br>
                      &nbsp;&nbsp;+ Mỗi bản ghi là duy nhất (có khóa chính)<br><br>
                      - <b>2NF (Second Normal Form - Dạng chuẩn 2):</b><br>
                      &nbsp;&nbsp;+ Đã ở 1NF<br>
                      &nbsp;&nbsp;+ Tất cả thuộc tính không khóa phụ thuộc đầy đủ vào khóa chính<br>
                      &nbsp;&nbsp;+ Loại bỏ phụ thuộc hàm bộ phận<br><br>
                      - <b>3NF (Third Normal Form - Dạng chuẩn 3):</b><br>
                      &nbsp;&nbsp;+ Đã ở 2NF<br>
                      &nbsp;&nbsp;+ Không có phụ thuộc bắc cầu (transitive dependency)<br>
                      &nbsp;&nbsp;+ Thuộc tính không khóa chỉ phụ thuộc vào khóa chính<br><br>
                      <b>Ví dụ minh họa:</b><br>
                      Bảng chưa chuẩn hóa: DONHANG(DonHangID, KhachHangID, TenKH, DiaChi, SanPhamID, TenSP, SoLuong, DonGia)<br><br>
                      1. <b>Chuyển về 1NF:</b> Tách nhóm lặp nếu một đơn hàng có nhiều sản phẩm<br>
                      2. <b>Chuyển về 2NF:</b> Tách thành các bảng:<br>
                      &nbsp;&nbsp;- DONHANG(DonHangID, KhachHangID, NgayDat)<br>
                      &nbsp;&nbsp;- KHACHHANG(KhachHangID, TenKH, DiaChi)<br>
                      &nbsp;&nbsp;- CHITIET_DONHANG(DonHangID, SanPhamID, SoLuong, DonGia)<br>
                      &nbsp;&nbsp;- SANPHAM(SanPhamID, TenSP)<br>
                      3. <b>Chuyển về 3NF:</b> Kiểm tra phụ thuộc bắc cầu - đã đạt 3NF<br><br>
                      <b>Lợi ích:</b> Giảm dư thừa, tránh dị thường thêm/xóa/sửa, dễ bảo trì.
                    </div>
                  </div>

                  <div class="quiz-q essay-q">
                    <h4 class="quiz-title">
                      Thiết kế CSDL cho hệ thống quản lý nhân sự với yêu cầu:<br>
                      - Mỗi nhân viên có mã NV, họ tên, ngày sinh, giới tính, lương, mã phòng<br>
                      - Mỗi phòng ban có mã phòng, tên phòng, trưởng phòng (là nhân viên)<br>
                      - Mỗi dự án có mã DA, tên DA, ngày bắt đầu, ngày kết thúc<br>
                      - Một nhân viên có thể tham gia nhiều dự án, mỗi dự án có nhiều nhân viên, ghi nhận số giờ làm<br>
                      a) Vẽ sơ đồ ER (thực thể-kết hợp)<br>
                      b) Chuyển sang mô hình quan hệ (bảng)<br>
                      c) Viết truy vấn tính tổng lương theo phòng ban
                    </h4>
                    <div class="short-answer-controls">
                      <textarea placeholder="Nhập câu trả liệu...</textarea>
                    </div>
                    <div class="explanation" style="display:none;">
                      <hl>Đáp án Tham khảo:</hl><br>
                      a) <b>Sơ đồ ER:</b><br>
                      Thực thể:<br>
                      - NHANVIEN(MaNV, HoTen, NgaySinh, GioiTinh, Luong)<br>
                      - PHONGBAN(MaPhong, TenPhong)<br>
                      - DUAN(MaDA, TenDA, NgayBatDau, NgayKetThuc)<br>
                      Mối quan hệ:<br>
                      - NHANVIEN thuộc PHONGBAN (1-nhiều)<br>
                      - PHONGBAN có TRUONGPHONG là NHANVIEN (1-1)<br>
                      - NHANVIEN tham gia DUAN (nhiều-nhiều) với thuộc tính SoGioLam<br><br>
                      b) <b>Mô hình quan hệ:</b><br>
                      ```sql<br>
                      CREATE TABLE PHONGBAN (<br>
                      &nbsp;&nbsp;MaPhong INT PRIMARY KEY,<br>
                      &nbsp;&nbsp;TenPhong VARCHAR(50) NOT NULL,<br>
                      &nbsp;&nbsp;TruongPhong INT -- FK tham chiếu NHANVIEN<br>
                      );<br>
                      <br>
                      CREATE TABLE NHANVIEN (<br>
                      &nbsp;&nbsp;MaNV INT PRIMARY KEY,<br>
                      &nbsp;&nbsp;HoTen VARCHAR(50) NOT NULL,<br>
                      &nbsp;&nbsp;NgaySinh DATE,<br>
                      &nbsp;&nbsp;GioiTinh CHAR(1), -- 'M' hoặc 'F'<br>
                      &nbsp;&nbsp;Luong DECIMAL(10,2),<br>
                      &nbsp;&nbsp;MaPhong INT,<br>
                      &nbsp;&nbsp;FOREIGN KEY (MaPhong) REFERENCES PHONGBAN(MaPhong)<br>
                      );<br>
                      <br>
                      -- Cập nhật khóa ngoại cho trưởng phòng<br>
                      ALTER TABLE PHONGBAN<br>
                      ADD FOREIGN KEY (TruongPhong) REFERENCES NHANVIEN(MaNV);<br>
                      <br>
                      CREATE TABLE DUAN (<br>
                      &nbsp;&nbsp;MaDA INT PRIMARY KEY,<br>
                      &nbsp;&nbsp;TenDA VARCHAR(100) NOT NULL,<br>
                      &nbsp;&nbsp;NgayBatDau DATE,<br>
                      &nbsp;&nbsp;NgayKetThuc DATE<br>
                      );<br>
                      <br>
                      CREATE TABLE THAMGIA_DA (<br>
                      &nbsp;&nbsp;MaNV INT,<br>
                      &nbsp;&nbsp;MaDA INT,<br>
                      &nbsp;&nbsp;SoGioLam INT,<br>
                      &nbsp;&nbsp;PRIMARY KEY (MaNV, MaDA),<br>
                      &nbsp;&nbsp;FOREIGN KEY (MaNV) REFERENCES NHANVIEN(MaNV),<br>
                      &nbsp;&nbsp;FOREIGN KEY (MaDA) REFERENCES DUAN(MaDA)<br>
                      );<br>
                      ```<br><br>
                      c) <b>Truy vấn tính tổng lương theo phòng ban:</b><br>
                      ```sql<br>
                      SELECT PB.MaPhong, PB.TenPhong, <br>
                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COUNT(NV.MaNV) AS SoNhanVien,<br>
                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SUM(NV.Luong) AS TongLuong,<br>
                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AVG(NV.Luong) AS LuongTrungBinh<br>
                      FROM PHONGBAN PB<br>
                      LEFT JOIN NHANVIEN NV ON PB.MaPhong = NV.MaPhong<br>
                      GROUP BY PB.MaPhong, PB.TenPhong<br>
                      ORDER BY TongLuong DESC;<br>
                      ```
                    </div>
                  </div>

                </div>
              </div>

            </div>

            <!-- Nút nộp -->
            <div style="text-align:center;margin-top:18px;">
              <button id="submit-quiz" class="exercise-btn">Nộp bài</button>
              <button id="redo-quiz" class="exercise-btn" style="display:none;" onclick="window.handleQuizInit()">Làm lại</button>
              <button id="next-lesson" class="exercise-btn" style="display:none;" onclick="location.href='/test/lop-12/de3-gk1'">Bài kiểm tra tiếp theo</button>
            </div>

            <!-- Hiển thị điểm / đáp án -->
            <div id="quiz-result" style="margin-top:14px; font-weight:700; display:none;"></div>
          </div>
        </div>
      </div>
    </main>
  </div>
  <script src="/test/bai.js"></script>
</body>
</html>